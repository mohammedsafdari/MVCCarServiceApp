@model MVCCarServiceApp.ViewModels.CustAndCustViewModel
@{
    ViewBag.Title = "Customer List";
}

<h1 class="text-center jumbotron" style=" font-family:'Agency FB'; font-size:xx-large; height:130px; margin-top:10px; margin-bottom:10px; vertical-align:middle "><strong><u>CUSTOMER LIST</u></strong></h1>
<hr />

<div id="div1">
    @Html.ActionLink("Add New Customer", "CustomerForm", "Customer", Model.CheckInteger, new { @class = "btn btn-default" })
</div>

@using (Html.BeginForm("Customers", "Customer", FormMethod.Get))
{
<div id="div2">
    <table id="tableRadio">
        <tr id="trDiv2" style="margin-right:10px">
            <td class="tdCheckbox">@Html.RadioButton("option", "FirstName")First Name</td>
            <td class="tdCheckbox">@Html.RadioButton("option", "Email")Email Id</td>
            <td class="tdCheckbox">@Html.RadioButton("option", "Mobile")Mobile No.</td>
        </tr>
    </table>

    @Html.TextBox("search", "", new { size = "28" })

    <button id="btnDiv2" class="btn btn-primary" type="submit">Search</button><br/>
    @if (Model.CheckInteger == 1)
    {
        <span class="text-danger">Search Field Cannot be Empty</span>
    }
    @if(Model.CheckInteger == 2)
    {
        <span class="text-danger">Invalid input type, enter a Mobile no.</span>
    }
</div>
}

    @if (!Model.Customers.Any())
    {<div id="div3" class="jumbotron" style="margin-top: 5px; margin-bottom:15px">
    <h4>No Customers Found</h4> 
    </div>}

    else
    {
    <div id="div3" class="jumbotron" style="margin-top: 5px; margin-bottom:15px;">
        <table class="table table-responsive table-hover table-striped">
            <tr>
                <th>First Name</th>
                <th>Last Name</th>
                <th>Mobile No.</th>
                <th>Email Id</th>
                <th></th>
                <th></th>
            </tr>
        </table>
        <div style="overflow:scroll; height:170px">
            <table class="table table-responsive table-hover table-striped">
            @foreach (var item in Model.Customers)
            {
            <tr>
                <td>@item.FirstName</td>
                <td>@item.LastName</td>
                <td>@item.MobileNo</td>
                <td>@item.EmailId</td>
                <td>
                    @Html.ActionLink("View Cars", "ViewCars", "Car", item, new { @class = "btn btn-success" })
                    @Html.ActionLink("Edit", "CustEditForm", item, new { @class = "btn btn-primary" })
                    @Html.ActionLink("Delete", "DeleteCustomer", item, new { @class = "btn btn-danger" })
                </td>
            </tr>
            }
            </table>
        </div>
    </div>
    }


